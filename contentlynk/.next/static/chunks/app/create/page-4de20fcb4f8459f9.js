(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{6841:function(e,s,t){Promise.resolve().then(t.bind(t,4957))},6463:function(e,s,t){"use strict";var a=t(1169);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},4957:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(7437),r=t(2265),n=t(998),i=t(6463),l=t(4608),c=t(6760);function o(){let{data:e,status:s}=(0,n.useSession)(),t=(0,i.useRouter)(),[o,d]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null),[f,j]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1);if("unauthenticated"===s)return t.push("/auth/signin"),null;let b=async e=>{e.preventDefault(),h(!0);try{let e=null;if(g){N(!0);let s=new FormData;s.append("file",g);let t=await fetch("/api/upload",{method:"POST",body:s});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to upload image")}let{url:a}=await t.json();e=a,N(!1)}let s=await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o.trim()||null,content:m.trim(),imageUrl:e})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to create post")}let{post:a}=await s.json();alert("Post created successfully! You'll start earning from views and engagement."),t.push("/dashboard")}catch(e){console.error("Error creating post:",e),alert(e instanceof Error?e.message:"Failed to create post. Please try again.")}finally{h(!1),N(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Post"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Share your content and start earning immediately"})]}),(0,a.jsx)(c.z,{variant:"outline",onClick:()=>t.push("/dashboard"),children:"Back to Dashboard"})]})})}),(0,a.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Write Your Post"}),(0,a.jsx)(l.SZ,{children:"Express yourself and engage with your audience"})]}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Title (Optional)"}),(0,a.jsx)("input",{id:"title",type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"Give your post a catchy title...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",maxLength:100}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-1",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[o.length,"/100 characters"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"What's on your mind?"}),(0,a.jsx)("textarea",{id:"content",value:m,onChange:e=>x(e.target.value),placeholder:"Share your thoughts, ideas, or stories...",rows:8,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 resize-none",maxLength:1e3}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-2",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[m.length,"/1000 characters"]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Add Image (Optional)"}),f?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:f,alt:"Preview",className:"max-w-full max-h-64 rounded-lg shadow-md mx-auto"}),(0,a.jsx)("button",{type:"button",onClick:()=>{p(null),j(null)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:[null==g?void 0:g.name," (",(((null==g?void 0:g.size)||0)/1024/1024).toFixed(1),"MB)"]})]}):(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,a.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Click to upload"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:" or drag and drop"}),(0,a.jsx)("input",{type:"file",className:"hidden",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!t)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(t.type)){alert("Invalid file type. Please select a JPG, PNG, GIF, or WebP image.");return}if(t.size>5242880){alert("File too large. Please select an image under 5MB.");return}p(t);let a=new FileReader;a.onload=e=>{var s;j(null===(s=e.target)||void 0===s?void 0:s.result)},a.readAsDataURL(t)}})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, WebP up to 5MB"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)(c.z,{type:"button",variant:"outline",onClick:()=>t.push("/dashboard"),children:"Cancel"}),(0,a.jsx)(c.z,{type:"submit",disabled:!m.trim()||u||y,className:"bg-indigo-600 hover:bg-indigo-700",children:y?"Uploading Image...":u?"Publishing...":"Publish Post"})]})]})})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{className:"text-lg",children:"Earnings Potential"}),(0,a.jsx)(l.SZ,{children:"How you earn from this post"})]}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Views"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"0.001 HVNA each"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Earn from every view your content receives"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Likes"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"0.01 HVNA each"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Higher engagement = higher earnings"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Comments"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"0.02 HVNA each"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Conversations drive value"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Shares"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"0.05 HVNA each"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Viral content earns the most"})]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{className:"text-lg",children:"Your Revenue Share"}),(0,a.jsx)(l.SZ,{children:"Based on your membership tier"})]}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-indigo-600",children:"55%"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Standard Member"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Connect your wallet to verify NFT holdings and unlock higher rates up to 75%"}),(0,a.jsx)(c.z,{variant:"outline",size:"sm",className:"mt-3",children:"Connect Wallet"})]})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-lg",children:"Tips for Success"})}),(0,a.jsxs)(l.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:"Be Authentic"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Share your genuine thoughts and experiences"})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:"Engage Early"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Respond to comments to boost engagement"})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:"Post Consistently"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Regular content builds your audience"})]})]})]})]})]})})]})}},6760:function(e,s,t){"use strict";t.d(s,{z:function(){return i}});var a=t(7437),r=t(2265),n=t(9354);let i=r.forwardRef((e,s)=>{let{className:t,variant:r="primary",size:i="md",children:l,...c}=e;return(0,a.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-indigo-600 text-white hover:bg-indigo-700 active:bg-indigo-800",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 active:bg-gray-300",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 active:bg-gray-100",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 active:bg-gray-200"}[r],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-12 px-6 text-lg"}[i],t),ref:s,...c,children:l})});i.displayName="Button"},4608:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var a=t(7437),r=t(2265),n=t(9354);let i=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-white text-gray-950 shadow-sm",t),...i,children:r})});i.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...i,children:r})});l.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...i,children:r})});c.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-gray-500",t),...i,children:r})});o.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...i,children:r})});d.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...i,children:r})}).displayName="CardFooter"},9354:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var a=t(4839),r=t(6164);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[998,868,971,23,744],function(){return e(e.s=6841)}),_N_E=e.O()}]);