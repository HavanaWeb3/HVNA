{
  "_format": "hh-sol-artifact-1",
  "contractName": "DiscountManager",
  "sourceName": "contracts/DiscountManager.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_hvnaTokenAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_genesisNFTAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalDiscount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isGenesis",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenTier",
          "type": "uint256"
        }
      ],
      "name": "DiscountCalculated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "genesisBaseDiscount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "genesisNFT",
      "outputs": [
        {
          "internalType": "contract IERC721",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getDiscountBreakdown",
      "outputs": [
        {
          "internalType": "bool",
          "name": "isGenesis",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "tokenBalance",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokenValueUSD",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokenTier",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "baseDiscount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "bonusDiscount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalDiscount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokensForNextTier",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getDiscountInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "isGenesisHolder",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "tokenBalance",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "tokenValueUSD",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "tokenTier",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "baseDiscount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "bonusDiscount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalDiscount",
              "type": "uint256"
            }
          ],
          "internalType": "struct DiscountManager.DiscountInfo",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getThresholds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getTokenTier",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getTokensNeededForNextTier",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getTotalDiscount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "hasDiscountEligibility",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "hvnaToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tier1ThresholdCents",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tier2ThresholdCents",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tier3ThresholdCents",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokenBonusDiscount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokenPriceCents",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_genesisBase",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_tokenBonus",
          "type": "uint256"
        }
      ],
      "name": "updateDiscountRates",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_tier1Cents",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_tier2Cents",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_tier3Cents",
          "type": "uint256"
        }
      ],
      "name": "updateThresholds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_tokenPriceCents",
          "type": "uint256"
        }
      ],
      "name": "updateTokenPrice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080346100b257601f610a2838819003918201601f19168301916001600160401b038311848410176100b75780849260409485528339810103126100b257610052602061004b836100cd565b92016100cd565b613a986003556161a860045561c3506005556001600655601e600755600a60085560018060a01b03908160018060a01b03199316836000541617600055168160015416176001553390600254161760025560405161094690816100e28239f35b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036100b25756fe60806040908082526004908136101561001757600080fd5b600092833560e01c9182630db212771461051657508163172ab423146104f75781633e259e79146104d85781634dc5c69f146104a4578163572bdd8a14610471578163676c0d77146104425781638da5cb5b146104195781638dd4916b146103f05781639c3977b5146103c1578163a04f34321461034b578163a852d68414610255578163ae6a916e14610236578163aedfd24e146101fd578163be3d5a2d146101de578163d895ed211461019a578163e0b623f11461017b578163f25057f314610153578163fae86cf814610134575063fd19e10c146100f757600080fd5b346101305760603660031901126101305761011d60018060a01b036002541633146108d4565b8035600355602435905560443560055580f35b5080fd5b8390346101305781600319360112610130576020906003549051908152f35b839034610130578160031936011261013057905490516001600160a01b039091168152602090f35b8390346101305781600319360112610130576020906008549051908152f35b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575060606101ce602093610617565b01519051908152f35b80fd5b8280fd5b8390346101305781600319360112610130576020906005549051908152f35b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575061022f60209261082f565b9051908152f35b8390346101305781600319360112610130576020906006549051908152f35b919050346101da576020806003193601126103475781356001600160a01b03811691908281036103435761028890610617565b9081511515948183015190808401519060608501519260808601519460c060a08801519701519783519963576fe92760e11b8b528a01528089602481305afa988915610339578b99610301575b506101009a508251998a528901528701526060860152608085015260a084015260c083015260e0820152f35b9080995081813d8311610332575b6103198183610596565b8101031261032e576101009a505197386102d5565b8a80fd5b503d61030f565b83513d8d823e3d90fd5b8580fd5b8380fd5b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575060c061037f60e093610617565b825192815115158452602082015160208501528082015190840152606081015160608401526080810151608084015260a081015160a0840152015160c0820152f35b9050346101da57826003193601126101da57606092506003549154906005549181519384526020840152820152f35b83903461013057816003193601126101305760015490516001600160a01b039091168152602090f35b83903461013057816003193601126101305760025490516001600160a01b039091168152602090f35b5050346101305760203660031901126101305761046a60018060a01b036002541633146108d4565b3560065580f35b9050346101da573660031901126101305761049760018060a01b036002541633146108d4565b3560075560243560085580f35b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575060c06101ce602093610617565b8390346101305781600319360112610130576020906007549051908152f35b919050346101da57826003193601126101da5760209250549051908152f35b91509134610347576020366003190112610347578035936001600160a01b038516908186036101d757501561055e5760208360c061055387610617565b015115159051908152f35b62461bcd60e51b82526020908201526014602482015273496e76616c69642075736572206164647265737360601b6044820152606490fd5b90601f8019910116810190811067ffffffffffffffff8211176105b857604052565b634e487b7160e01b600052604160045260246000fd5b6040519060e0820182811067ffffffffffffffff8211176105b8576040528160c06000918281528260208201528260408201528260608201528260808201528260a08201520152565b61061f6105ce565b506106286105ce565b6001546040516370a0823160e01b8082526001600160a01b03948516600483018190529394602094919385908490602490829085165afa80156107f05785936000916107fc575b50906024911515875260005416936040519485938492835260048301525afa9081156107f0576000916107c3575b5080918301526006549081810291818304149015171561071d57670de0b6b3a7640000900460408201819052600554811061078d5750600360608201525b80511561073857600754608082015260608101516000901561073357506008545b60a08201525b608081015160a0820151810180911161071d5760c082015290565b634e487b7160e01b600052601160045260246000fd5b6106fc565b600060808201526060810151600181036107595750600a60a0820152610702565b6002810361076e5750601460a0820152610702565b60030361078157601e60a0820152610702565b600060a0820152610702565b60045481106107a35750600260608201526106db565b600354116107b757600160608201526106db565b600060608201526106db565b908282813d83116107e9575b6107d98183610596565b810103126101d75750513861069d565b503d6107cf565b6040513d6000823e3d90fd5b91929382813d8311610828575b6108138183610596565b810103126101d757505184929190602461066f565b503d610809565b61083890610617565b6000606082015180156000146108ad5750506003545b670de0b6b3a76400009081810291818304149015171561071d576006548015610897576020910491015160008183116000146108915750810390811161071d5790565b91505090565b634e487b7160e01b600052601260045260246000fd5b600181036108bf57505060045461084e565b6002036108cf575060055461084e565b905090565b156108db57565b60405162461bcd60e51b815260206004820152600d60248201526c2737ba103a34329037bbb732b960991b6044820152606490fdfea2646970667358221220a66c184b16401b4a6c87da4f7ff2753a66544e7c0ff4cf1c248e67b6163c97a464736f6c63430008130033",
  "deployedBytecode": "0x60806040908082526004908136101561001757600080fd5b600092833560e01c9182630db212771461051657508163172ab423146104f75781633e259e79146104d85781634dc5c69f146104a4578163572bdd8a14610471578163676c0d77146104425781638da5cb5b146104195781638dd4916b146103f05781639c3977b5146103c1578163a04f34321461034b578163a852d68414610255578163ae6a916e14610236578163aedfd24e146101fd578163be3d5a2d146101de578163d895ed211461019a578163e0b623f11461017b578163f25057f314610153578163fae86cf814610134575063fd19e10c146100f757600080fd5b346101305760603660031901126101305761011d60018060a01b036002541633146108d4565b8035600355602435905560443560055580f35b5080fd5b8390346101305781600319360112610130576020906003549051908152f35b839034610130578160031936011261013057905490516001600160a01b039091168152602090f35b8390346101305781600319360112610130576020906008549051908152f35b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575060606101ce602093610617565b01519051908152f35b80fd5b8280fd5b8390346101305781600319360112610130576020906005549051908152f35b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575061022f60209261082f565b9051908152f35b8390346101305781600319360112610130576020906006549051908152f35b919050346101da576020806003193601126103475781356001600160a01b03811691908281036103435761028890610617565b9081511515948183015190808401519060608501519260808601519460c060a08801519701519783519963576fe92760e11b8b528a01528089602481305afa988915610339578b99610301575b506101009a508251998a528901528701526060860152608085015260a084015260c083015260e0820152f35b9080995081813d8311610332575b6103198183610596565b8101031261032e576101009a505197386102d5565b8a80fd5b503d61030f565b83513d8d823e3d90fd5b8580fd5b8380fd5b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575060c061037f60e093610617565b825192815115158452602082015160208501528082015190840152606081015160608401526080810151608084015260a081015160a0840152015160c0820152f35b9050346101da57826003193601126101da57606092506003549154906005549181519384526020840152820152f35b83903461013057816003193601126101305760015490516001600160a01b039091168152602090f35b83903461013057816003193601126101305760025490516001600160a01b039091168152602090f35b5050346101305760203660031901126101305761046a60018060a01b036002541633146108d4565b3560065580f35b9050346101da573660031901126101305761049760018060a01b036002541633146108d4565b3560075560243560085580f35b919050346101da5760203660031901126101da5735916001600160a01b03831683036101d7575060c06101ce602093610617565b8390346101305781600319360112610130576020906007549051908152f35b919050346101da57826003193601126101da5760209250549051908152f35b91509134610347576020366003190112610347578035936001600160a01b038516908186036101d757501561055e5760208360c061055387610617565b015115159051908152f35b62461bcd60e51b82526020908201526014602482015273496e76616c69642075736572206164647265737360601b6044820152606490fd5b90601f8019910116810190811067ffffffffffffffff8211176105b857604052565b634e487b7160e01b600052604160045260246000fd5b6040519060e0820182811067ffffffffffffffff8211176105b8576040528160c06000918281528260208201528260408201528260608201528260808201528260a08201520152565b61061f6105ce565b506106286105ce565b6001546040516370a0823160e01b8082526001600160a01b03948516600483018190529394602094919385908490602490829085165afa80156107f05785936000916107fc575b50906024911515875260005416936040519485938492835260048301525afa9081156107f0576000916107c3575b5080918301526006549081810291818304149015171561071d57670de0b6b3a7640000900460408201819052600554811061078d5750600360608201525b80511561073857600754608082015260608101516000901561073357506008545b60a08201525b608081015160a0820151810180911161071d5760c082015290565b634e487b7160e01b600052601160045260246000fd5b6106fc565b600060808201526060810151600181036107595750600a60a0820152610702565b6002810361076e5750601460a0820152610702565b60030361078157601e60a0820152610702565b600060a0820152610702565b60045481106107a35750600260608201526106db565b600354116107b757600160608201526106db565b600060608201526106db565b908282813d83116107e9575b6107d98183610596565b810103126101d75750513861069d565b503d6107cf565b6040513d6000823e3d90fd5b91929382813d8311610828575b6108138183610596565b810103126101d757505184929190602461066f565b503d610809565b61083890610617565b6000606082015180156000146108ad5750506003545b670de0b6b3a76400009081810291818304149015171561071d576006548015610897576020910491015160008183116000146108915750810390811161071d5790565b91505090565b634e487b7160e01b600052601260045260246000fd5b600181036108bf57505060045461084e565b6002036108cf575060055461084e565b905090565b156108db57565b60405162461bcd60e51b815260206004820152600d60248201526c2737ba103a34329037bbb732b960991b6044820152606490fdfea2646970667358221220a66c184b16401b4a6c87da4f7ff2753a66544e7c0ff4cf1c248e67b6163c97a464736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
